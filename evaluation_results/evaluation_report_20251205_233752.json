{
  "timestamp": "2025-12-05T23:37:04.124891",
  "test_case": "OrderManagementSystem",
  "execution_metrics": {
    "execution_time_seconds": 47.78034687042236,
    "clusters_detected": 9,
    "clusters_after_filtering": 5,
    "clusters_ranked": 5,
    "suggestions_generated": 5,
    "verified_suggestions": 0,
    "avg_confidence": 0.9,
    "min_confidence": 0.88,
    "max_confidence": 0.92,
    "high_confidence_count": 5
  },
  "comparison_results": {
    "true_positives": 0,
    "false_positives": 8,
    "false_negatives": 6,
    "precision": 0.0,
    "recall": 0.0,
    "f1_score": 0,
    "matches": [
      {
        "actual": "OrderPriceCalculator",
        "expected": "NotificationService",
        "similarity": 0.3,
        "is_match": false
      },
      {
        "actual": "ShoppingCart",
        "expected": "OrderItemCollection",
        "similarity": 0.39999999999999997,
        "is_match": false
      },
      {
        "actual": "InventoryTracker",
        "expected": "NotificationService",
        "similarity": 0.3,
        "is_match": false
      },
      {
        "actual": "OrderFulfillment",
        "expected": "ShippingCalculator",
        "similarity": 0.31477272727272726,
        "is_match": false
      }
    ],
    "unmatched_expected": [
      "InventoryManager",
      "ShippingCalculator",
      "OrderItemCollection",
      "PaymentProcessor",
      "PriceCalculator",
      "NotificationService"
    ],
    "unmatched_actual": [
      "OrderPriceCalculator",
      "InventoryTracker",
      "ShoppingCart",
      "OrderFulfillment"
    ]
  },
  "flaws_identified": [
    {
      "category": "MISSED_EXTRACTIONS",
      "severity": "HIGH",
      "description": "Failed to identify 6 expected extractions",
      "details": [
        {
          "class_name": "InventoryManager",
          "priority": "MEDIUM",
          "methods_count": 5,
          "expected_rationale": "Manages warehouse stock and inventory reservations. High cohesion around inventory operations. Critical for order fulfillment."
        },
        {
          "class_name": "ShippingCalculator",
          "priority": "MEDIUM",
          "methods_count": 5,
          "expected_rationale": "Handles shipping cost calculation and delivery estimates. High cohesion around shipping logic. Geographic and weight-based calculations."
        },
        {
          "class_name": "OrderItemCollection",
          "priority": "HIGH",
          "methods_count": 6,
          "expected_rationale": "Manages the collection of order items. High cohesion - all methods work with items list and itemQuantities map. Core responsibility of maintaining order line items."
        },
        {
          "class_name": "PaymentProcessor",
          "priority": "MEDIUM",
          "methods_count": 5,
          "expected_rationale": "Manages payment operations. High cohesion around payment lifecycle. Contains temporal coupling with inventory (both must succeed/fail together)."
        },
        {
          "class_name": "PriceCalculator",
          "priority": "HIGH",
          "methods_count": 7,
          "expected_rationale": "Handles all pricing logic including discounts, tax, and total calculation. High cohesion around monetary calculations. Follows Strategy pattern for different calculation strategies."
        },
        {
          "class_name": "NotificationService",
          "priority": "LOW",
          "methods_count": 6,
          "expected_rationale": "Sends email notifications for various order events. High cohesion around communication. Infrastructure concern that could be completely separated."
        }
      ]
    },
    {
      "category": "SPURIOUS_SUGGESTIONS",
      "severity": "MEDIUM",
      "description": "Generated 4 suggestions that don't match ground truth",
      "details": [
        {
          "class_name": "OrderPriceCalculator",
          "confidence": 0.92,
          "methods_count": 6,
          "rationale": "These methods form a cohesive financial calculation unit that computes all monetary aspects of an order including shipping, taxes, discounts, and totals. Extracting them into an OrderPriceCalculator class isolates complex pricing logic and creates a reusable component that can handle various pricing scenarios across different parts of the system."
        },
        {
          "class_name": "InventoryTracker",
          "confidence": 0.9,
          "methods_count": 3,
          "rationale": "These methods and field form a cohesive inventory management unit that tracks warehouse stock levels, updates quantities, and maintains audit logs. Extracting them into an InventoryTracker class isolates inventory concerns and creates a reusable component with a single, well-defined responsibility."
        },
        {
          "class_name": "ShoppingCart",
          "confidence": 0.92,
          "methods_count": 12,
          "rationale": "These methods and fields form a cohesive shopping cart abstraction that manages item collections, quantities, and cart-related calculations. Extracting them creates a reusable component with high cohesion where all operations center around maintaining and calculating cart state. This separation improves the original class by removing cart management responsibilities and creates a focused, testable cart component."
        },
        {
          "class_name": "OrderFulfillment",
          "confidence": 0.88,
          "methods_count": 8,
          "rationale": "These methods and fields form a cohesive unit responsible for fulfilling orders - from applying discounts and calculating totals to configuring shipping and estimating delivery. Extracting them into OrderFulfillment separates fulfillment concerns from order management, improving cohesion and enabling independent testing of fulfillment logic."
        }
      ]
    },
    {
      "category": "PARTIAL_MATCHES",
      "severity": "MEDIUM",
      "description": "Found 4 partial matches (not quite right)",
      "details": [
        {
          "actual": "OrderPriceCalculator",
          "expected": "NotificationService",
          "similarity": 0.3,
          "is_match": false
        },
        {
          "actual": "ShoppingCart",
          "expected": "OrderItemCollection",
          "similarity": 0.39999999999999997,
          "is_match": false
        },
        {
          "actual": "InventoryTracker",
          "expected": "NotificationService",
          "similarity": 0.3,
          "is_match": false
        },
        {
          "actual": "OrderFulfillment",
          "expected": "ShippingCalculator",
          "similarity": 0.31477272727272726,
          "is_match": false
        }
      ]
    },
    {
      "category": "MISSED_HIGH_PRIORITY",
      "severity": "CRITICAL",
      "description": "Missed 2 high-priority extractions",
      "details": [
        "PriceCalculator",
        "OrderItemCollection"
      ]
    }
  ],
  "recommendations": [
    {
      "issue": "Missing expected extractions",
      "recommendation": "Improve clustering algorithm to better identify cohesive groups. Consider lowering resolution parameter or using different community detection algorithm.",
      "priority": "HIGH"
    },
    {
      "issue": "Too many incorrect suggestions",
      "recommendation": "Increase minimum cohesion threshold or improve LLM prompts to be more selective. Consider adding semantic analysis to filter out weak clusters.",
      "priority": "MEDIUM"
    },
    {
      "issue": "Missed critical high-priority extractions",
      "recommendation": "Review clustering parameters - may be over-filtering. Ensure graph fusion is not diluting strong structural signals. Consider increasing number of suggestions generated.",
      "priority": "CRITICAL"
    }
  ]
}
