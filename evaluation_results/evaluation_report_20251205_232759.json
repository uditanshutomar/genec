{
  "timestamp": "2025-12-05T23:27:06.476400",
  "test_case": "OrderManagementSystem",
  "execution_metrics": {
    "execution_time_seconds": 51.915310859680176,
    "clusters_detected": 14,
    "clusters_after_filtering": 7,
    "clusters_ranked": 7,
    "suggestions_generated": 7,
    "verified_suggestions": 0,
    "avg_confidence": 0.9028571428571429,
    "min_confidence": 0.88,
    "max_confidence": 0.92,
    "high_confidence_count": 7
  },
  "comparison_results": {
    "true_positives": 0,
    "false_positives": 12,
    "false_negatives": 6,
    "precision": 0.0,
    "recall": 0.0,
    "f1_score": 0,
    "matches": [
      {
        "actual": "DiscountCalculator",
        "expected": "NotificationService",
        "similarity": 0.3,
        "is_match": false
      },
      {
        "actual": "PricingCalculator",
        "expected": "NotificationService",
        "similarity": 0.3,
        "is_match": false
      },
      {
        "actual": "ShoppingCart",
        "expected": "OrderItemCollection",
        "similarity": 0.39999999999999997,
        "is_match": false
      },
      {
        "actual": "InventoryTracker",
        "expected": "NotificationService",
        "similarity": 0.3,
        "is_match": false
      },
      {
        "actual": "OrderNotifier",
        "expected": "NotificationService",
        "similarity": 0.475,
        "is_match": false
      },
      {
        "actual": "OrderFulfillment",
        "expected": "NotificationService",
        "similarity": 0.3933333333333333,
        "is_match": false
      }
    ],
    "unmatched_expected": [
      "ShippingCalculator",
      "PriceCalculator",
      "PaymentProcessor",
      "NotificationService",
      "InventoryManager",
      "OrderItemCollection"
    ],
    "unmatched_actual": [
      "DiscountCalculator",
      "ShoppingCart",
      "InventoryTracker",
      "OrderNotifier",
      "PricingCalculator",
      "OrderFulfillment"
    ]
  },
  "flaws_identified": [
    {
      "category": "MISSED_EXTRACTIONS",
      "severity": "HIGH",
      "description": "Failed to identify 6 expected extractions",
      "details": [
        {
          "class_name": "ShippingCalculator",
          "priority": "MEDIUM",
          "methods_count": 5,
          "expected_rationale": "Handles shipping cost calculation and delivery estimates. High cohesion around shipping logic. Geographic and weight-based calculations."
        },
        {
          "class_name": "PriceCalculator",
          "priority": "HIGH",
          "methods_count": 7,
          "expected_rationale": "Handles all pricing logic including discounts, tax, and total calculation. High cohesion around monetary calculations. Follows Strategy pattern for different calculation strategies."
        },
        {
          "class_name": "PaymentProcessor",
          "priority": "MEDIUM",
          "methods_count": 5,
          "expected_rationale": "Manages payment operations. High cohesion around payment lifecycle. Contains temporal coupling with inventory (both must succeed/fail together)."
        },
        {
          "class_name": "NotificationService",
          "priority": "LOW",
          "methods_count": 6,
          "expected_rationale": "Sends email notifications for various order events. High cohesion around communication. Infrastructure concern that could be completely separated."
        },
        {
          "class_name": "InventoryManager",
          "priority": "MEDIUM",
          "methods_count": 5,
          "expected_rationale": "Manages warehouse stock and inventory reservations. High cohesion around inventory operations. Critical for order fulfillment."
        },
        {
          "class_name": "OrderItemCollection",
          "priority": "HIGH",
          "methods_count": 6,
          "expected_rationale": "Manages the collection of order items. High cohesion - all methods work with items list and itemQuantities map. Core responsibility of maintaining order line items."
        }
      ]
    },
    {
      "category": "SPURIOUS_SUGGESTIONS",
      "severity": "MEDIUM",
      "description": "Generated 6 suggestions that don't match ground truth",
      "details": [
        {
          "class_name": "DiscountCalculator",
          "confidence": 0.92,
          "methods_count": 5,
          "rationale": "These methods form a cohesive unit responsible for calculating and applying discounts based on customer tiers. Extracting them into a DiscountCalculator improves separation of concerns by isolating pricing logic and enhances reusability across different business contexts."
        },
        {
          "class_name": "ShoppingCart",
          "confidence": 0.92,
          "methods_count": 12,
          "rationale": "These methods and fields form a cohesive unit that manages a collection of items with quantities and performs related calculations. Extracting them into a ShoppingCart class creates a reusable component that encapsulates item management logic and follows the single responsibility principle by focusing solely on cart operations."
        },
        {
          "class_name": "InventoryTracker",
          "confidence": 0.9,
          "methods_count": 3,
          "rationale": "These methods and field form a cohesive inventory management unit that tracks stock levels, updates quantities, and maintains audit logs. Extracting them into an InventoryTracker class improves separation of concerns by isolating warehouse inventory operations from other business logic."
        },
        {
          "class_name": "OrderNotifier",
          "confidence": 0.9,
          "methods_count": 9,
          "rationale": "These methods and fields form a cohesive unit responsible for sending order-related email notifications to customers. They encapsulate the complete workflow of generating order identifiers, building email content, and delivering notifications throughout the order lifecycle. Extracting them improves separation of concerns by isolating notification logic from core order processing."
        },
        {
          "class_name": "PricingCalculator",
          "confidence": 0.92,
          "methods_count": 7,
          "rationale": "These methods form a cohesive unit responsible for all pricing and financial calculations including shipping, taxes, discounts, and totals. Extracting them into a PricingCalculator class centralizes monetary computation logic, improves reusability across different order contexts, and separates financial calculations from business workflow concerns."
        },
        {
          "class_name": "OrderFulfillment",
          "confidence": 0.88,
          "methods_count": 11,
          "rationale": "These methods represent a cohesive order fulfillment workflow that handles payments, inventory, notifications, and audit logging as a unified business process. Extracting them creates a focused class responsible for orchestrating the complete order completion lifecycle, improving separation of concerns and making the fulfillment logic reusable across different order contexts."
        }
      ]
    },
    {
      "category": "PARTIAL_MATCHES",
      "severity": "MEDIUM",
      "description": "Found 6 partial matches (not quite right)",
      "details": [
        {
          "actual": "DiscountCalculator",
          "expected": "NotificationService",
          "similarity": 0.3,
          "is_match": false
        },
        {
          "actual": "PricingCalculator",
          "expected": "NotificationService",
          "similarity": 0.3,
          "is_match": false
        },
        {
          "actual": "ShoppingCart",
          "expected": "OrderItemCollection",
          "similarity": 0.39999999999999997,
          "is_match": false
        },
        {
          "actual": "InventoryTracker",
          "expected": "NotificationService",
          "similarity": 0.3,
          "is_match": false
        },
        {
          "actual": "OrderNotifier",
          "expected": "NotificationService",
          "similarity": 0.475,
          "is_match": false
        },
        {
          "actual": "OrderFulfillment",
          "expected": "NotificationService",
          "similarity": 0.3933333333333333,
          "is_match": false
        }
      ]
    },
    {
      "category": "MISSED_HIGH_PRIORITY",
      "severity": "CRITICAL",
      "description": "Missed 2 high-priority extractions",
      "details": [
        "PriceCalculator",
        "OrderItemCollection"
      ]
    }
  ],
  "recommendations": [
    {
      "issue": "Missing expected extractions",
      "recommendation": "Improve clustering algorithm to better identify cohesive groups. Consider lowering resolution parameter or using different community detection algorithm.",
      "priority": "HIGH"
    },
    {
      "issue": "Too many incorrect suggestions",
      "recommendation": "Increase minimum cohesion threshold or improve LLM prompts to be more selective. Consider adding semantic analysis to filter out weak clusters.",
      "priority": "MEDIUM"
    },
    {
      "issue": "Missed critical high-priority extractions",
      "recommendation": "Review clustering parameters - may be over-filtering. Ensure graph fusion is not diluting strong structural signals. Consider increasing number of suggestions generated.",
      "priority": "CRITICAL"
    }
  ]
}
