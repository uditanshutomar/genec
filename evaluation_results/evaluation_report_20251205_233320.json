{
  "timestamp": "2025-12-05T23:32:20.215672",
  "test_case": "OrderManagementSystem",
  "execution_metrics": {
    "execution_time_seconds": 59.838671922683716,
    "clusters_detected": 13,
    "clusters_after_filtering": 7,
    "clusters_ranked": 7,
    "suggestions_generated": 7,
    "verified_suggestions": 0,
    "avg_confidence": 0.9057142857142857,
    "min_confidence": 0.88,
    "max_confidence": 0.92,
    "high_confidence_count": 7
  },
  "comparison_results": {
    "true_positives": 0,
    "false_positives": 14,
    "false_negatives": 6,
    "precision": 0.0,
    "recall": 0.0,
    "f1_score": 0,
    "matches": [
      {
        "actual": "WarehouseInventoryTracker",
        "expected": "NotificationService",
        "similarity": 0.3,
        "is_match": false
      },
      {
        "actual": "OrderPriceCalculator",
        "expected": "NotificationService",
        "similarity": 0.3,
        "is_match": false
      },
      {
        "actual": "OrderNotifier",
        "expected": "NotificationService",
        "similarity": 0.475,
        "is_match": false
      },
      {
        "actual": "ShoppingCart",
        "expected": "OrderItemCollection",
        "similarity": 0.39999999999999997,
        "is_match": false
      },
      {
        "actual": "DiscountCalculator",
        "expected": "NotificationService",
        "similarity": 0.3,
        "is_match": false
      },
      {
        "actual": "ShippingCalculator",
        "expected": "ShippingCalculator",
        "similarity": 0.38928571428571423,
        "is_match": false
      },
      {
        "actual": "OrderTransactionWorkflow",
        "expected": "NotificationService",
        "similarity": 0.39999999999999997,
        "is_match": false
      }
    ],
    "unmatched_expected": [
      "NotificationService",
      "InventoryManager",
      "ShippingCalculator",
      "PaymentProcessor",
      "PriceCalculator",
      "OrderItemCollection"
    ],
    "unmatched_actual": [
      "DiscountCalculator",
      "ShoppingCart",
      "ShippingCalculator",
      "WarehouseInventoryTracker",
      "OrderTransactionWorkflow",
      "OrderPriceCalculator",
      "OrderNotifier"
    ]
  },
  "flaws_identified": [
    {
      "category": "MISSED_EXTRACTIONS",
      "severity": "HIGH",
      "description": "Failed to identify 6 expected extractions",
      "details": [
        {
          "class_name": "NotificationService",
          "priority": "LOW",
          "methods_count": 6,
          "expected_rationale": "Sends email notifications for various order events. High cohesion around communication. Infrastructure concern that could be completely separated."
        },
        {
          "class_name": "InventoryManager",
          "priority": "MEDIUM",
          "methods_count": 5,
          "expected_rationale": "Manages warehouse stock and inventory reservations. High cohesion around inventory operations. Critical for order fulfillment."
        },
        {
          "class_name": "ShippingCalculator",
          "priority": "MEDIUM",
          "methods_count": 5,
          "expected_rationale": "Handles shipping cost calculation and delivery estimates. High cohesion around shipping logic. Geographic and weight-based calculations."
        },
        {
          "class_name": "PaymentProcessor",
          "priority": "MEDIUM",
          "methods_count": 5,
          "expected_rationale": "Manages payment operations. High cohesion around payment lifecycle. Contains temporal coupling with inventory (both must succeed/fail together)."
        },
        {
          "class_name": "PriceCalculator",
          "priority": "HIGH",
          "methods_count": 7,
          "expected_rationale": "Handles all pricing logic including discounts, tax, and total calculation. High cohesion around monetary calculations. Follows Strategy pattern for different calculation strategies."
        },
        {
          "class_name": "OrderItemCollection",
          "priority": "HIGH",
          "methods_count": 6,
          "expected_rationale": "Manages the collection of order items. High cohesion - all methods work with items list and itemQuantities map. Core responsibility of maintaining order line items."
        }
      ]
    },
    {
      "category": "SPURIOUS_SUGGESTIONS",
      "severity": "MEDIUM",
      "description": "Generated 7 suggestions that don't match ground truth",
      "details": [
        {
          "class_name": "DiscountCalculator",
          "confidence": 0.9,
          "methods_count": 4,
          "rationale": "These methods form a cohesive unit responsible for discount calculation and pricing logic. They work together to apply various discount types, manage customer tiers, and compute final amounts. Extracting them into a DiscountCalculator class separates pricing concerns and creates a reusable component with clear responsibility."
        },
        {
          "class_name": "ShoppingCart",
          "confidence": 0.92,
          "methods_count": 12,
          "rationale": "These methods and fields form a cohesive shopping cart abstraction that manages a collection of items with quantities and performs cart-related calculations. Extracting them creates a reusable component with clear boundaries, separating cart management from broader order processing concerns while improving testability and maintainability."
        },
        {
          "class_name": "ShippingCalculator",
          "confidence": 0.88,
          "methods_count": 5,
          "rationale": "These members form a cohesive shipping calculation unit that handles address management, delivery estimation, and cost computation. Extracting them into a ShippingCalculator class separates shipping concerns from core business logic and creates a reusable component for shipping-related operations."
        },
        {
          "class_name": "WarehouseInventoryTracker",
          "confidence": 0.92,
          "methods_count": 3,
          "rationale": "These methods and field form a cohesive inventory management unit that tracks warehouse stock levels, identifies low-stock situations, and maintains audit trails. Extracting them creates a focused class with a single responsibility for warehouse inventory operations, improving both maintainability and reusability."
        },
        {
          "class_name": "OrderTransactionWorkflow",
          "confidence": 0.88,
          "methods_count": 10,
          "rationale": "These methods form a cohesive transaction workflow that coordinates payment processing, inventory management, and customer notifications for order completion. Extracting them creates a focused component responsible for orchestrating the multi-step transaction process, improving separation of concerns and making the transaction logic more testable and reusable."
        },
        {
          "class_name": "OrderPriceCalculator",
          "confidence": 0.92,
          "methods_count": 6,
          "rationale": "These methods form a cohesive unit responsible for calculating various financial aspects of an order (shipping, discounts, taxes, totals). Extracting them into an OrderPriceCalculator improves separation of concerns by isolating all pricing logic into a single, focused class that can be easily tested and reused across different order processing contexts."
        },
        {
          "class_name": "OrderNotifier",
          "confidence": 0.92,
          "methods_count": 9,
          "rationale": "These members form a cohesive unit responsible for sending order-related email notifications throughout the order lifecycle. They encapsulate the complete workflow of generating order communications, from accessing customer data to composing and sending emails with proper audit logging."
        }
      ]
    },
    {
      "category": "PARTIAL_MATCHES",
      "severity": "MEDIUM",
      "description": "Found 7 partial matches (not quite right)",
      "details": [
        {
          "actual": "WarehouseInventoryTracker",
          "expected": "NotificationService",
          "similarity": 0.3,
          "is_match": false
        },
        {
          "actual": "OrderPriceCalculator",
          "expected": "NotificationService",
          "similarity": 0.3,
          "is_match": false
        },
        {
          "actual": "OrderNotifier",
          "expected": "NotificationService",
          "similarity": 0.475,
          "is_match": false
        },
        {
          "actual": "ShoppingCart",
          "expected": "OrderItemCollection",
          "similarity": 0.39999999999999997,
          "is_match": false
        },
        {
          "actual": "DiscountCalculator",
          "expected": "NotificationService",
          "similarity": 0.3,
          "is_match": false
        },
        {
          "actual": "ShippingCalculator",
          "expected": "ShippingCalculator",
          "similarity": 0.38928571428571423,
          "is_match": false
        },
        {
          "actual": "OrderTransactionWorkflow",
          "expected": "NotificationService",
          "similarity": 0.39999999999999997,
          "is_match": false
        }
      ]
    },
    {
      "category": "MISSED_HIGH_PRIORITY",
      "severity": "CRITICAL",
      "description": "Missed 2 high-priority extractions",
      "details": [
        "PriceCalculator",
        "OrderItemCollection"
      ]
    }
  ],
  "recommendations": [
    {
      "issue": "Missing expected extractions",
      "recommendation": "Improve clustering algorithm to better identify cohesive groups. Consider lowering resolution parameter or using different community detection algorithm.",
      "priority": "HIGH"
    },
    {
      "issue": "Too many incorrect suggestions",
      "recommendation": "Increase minimum cohesion threshold or improve LLM prompts to be more selective. Consider adding semantic analysis to filter out weak clusters.",
      "priority": "MEDIUM"
    },
    {
      "issue": "Missed critical high-priority extractions",
      "recommendation": "Review clustering parameters - may be over-filtering. Ensure graph fusion is not diluting strong structural signals. Consider increasing number of suggestions generated.",
      "priority": "CRITICAL"
    }
  ]
}
