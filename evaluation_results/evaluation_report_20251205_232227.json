{
  "timestamp": "2025-12-05T23:21:46.188751",
  "test_case": "OrderManagementSystem",
  "execution_metrics": {
    "execution_time_seconds": 40.44409918785095,
    "clusters_detected": 14,
    "clusters_after_filtering": 5,
    "clusters_ranked": 5,
    "suggestions_generated": 5,
    "verified_suggestions": 0,
    "avg_confidence": 0.9120000000000001,
    "min_confidence": 0.9,
    "max_confidence": 0.92,
    "high_confidence_count": 5
  },
  "comparison_results": {
    "true_positives": 2,
    "false_positives": 6,
    "false_negatives": 4,
    "precision": 0.25,
    "recall": 0.3333333333333333,
    "f1_score": 0.28571428571428575,
    "matches": [
      {
        "actual": "PriceCalculator",
        "expected": "PriceCalculator",
        "similarity": 0.39999999999999997,
        "is_match": false
      },
      {
        "actual": "OrderNotificationService",
        "expected": "NotificationService",
        "similarity": 0.51,
        "is_match": true
      },
      {
        "actual": "OrderProcessor",
        "expected": "NotificationService",
        "similarity": 0.3933333333333333,
        "is_match": false
      },
      {
        "actual": "OrderPricingCalculator",
        "expected": "NotificationService",
        "similarity": 0.3,
        "is_match": false
      },
      {
        "actual": "ShippingManager",
        "expected": "ShippingCalculator",
        "similarity": 0.5214285714285714,
        "is_match": true
      }
    ],
    "unmatched_expected": [
      "InventoryManager",
      "PriceCalculator",
      "PaymentProcessor",
      "OrderItemCollection"
    ],
    "unmatched_actual": [
      "PriceCalculator",
      "OrderPricingCalculator",
      "OrderProcessor"
    ]
  },
  "flaws_identified": [
    {
      "category": "MISSED_EXTRACTIONS",
      "severity": "HIGH",
      "description": "Failed to identify 4 expected extractions",
      "details": [
        {
          "class_name": "InventoryManager",
          "priority": "MEDIUM",
          "methods_count": 5,
          "expected_rationale": "Manages warehouse stock and inventory reservations. High cohesion around inventory operations. Critical for order fulfillment."
        },
        {
          "class_name": "PriceCalculator",
          "priority": "HIGH",
          "methods_count": 7,
          "expected_rationale": "Handles all pricing logic including discounts, tax, and total calculation. High cohesion around monetary calculations. Follows Strategy pattern for different calculation strategies."
        },
        {
          "class_name": "PaymentProcessor",
          "priority": "MEDIUM",
          "methods_count": 5,
          "expected_rationale": "Manages payment operations. High cohesion around payment lifecycle. Contains temporal coupling with inventory (both must succeed/fail together)."
        },
        {
          "class_name": "OrderItemCollection",
          "priority": "HIGH",
          "methods_count": 6,
          "expected_rationale": "Manages the collection of order items. High cohesion - all methods work with items list and itemQuantities map. Core responsibility of maintaining order line items."
        }
      ]
    },
    {
      "category": "SPURIOUS_SUGGESTIONS",
      "severity": "MEDIUM",
      "description": "Generated 3 suggestions that don't match ground truth",
      "details": [
        {
          "class_name": "PriceCalculator",
          "confidence": 0.92,
          "methods_count": 7,
          "rationale": "These methods and fields form a cohesive unit responsible for all pricing calculations including discounts, taxes, and shipping costs. Extracting them into a PriceCalculator class centralizes financial logic, improves testability, and allows the pricing engine to be reused across different contexts while following the Single Responsibility Principle."
        },
        {
          "class_name": "OrderPricingCalculator",
          "confidence": 0.9,
          "methods_count": 6,
          "rationale": "These methods form a cohesive unit responsible for all financial calculations related to order pricing, including discounts, shipping costs, and total amounts. Extracting them into an OrderPricingCalculator improves separation of concerns by isolating complex pricing logic and makes the financial calculations more testable and reusable across different order contexts."
        },
        {
          "class_name": "OrderProcessor",
          "confidence": 0.92,
          "methods_count": 11,
          "rationale": "These methods form a cohesive order processing workflow that handles the complete lifecycle from payment processing to inventory management and customer notifications. Extracting them into an OrderProcessor class creates a focused service that encapsulates all order fulfillment responsibilities, improving maintainability and enabling better testing of the order processing business logic."
        }
      ]
    },
    {
      "category": "POOR_NAMING",
      "severity": "MEDIUM",
      "description": "Found 1 classes with generic/poor names",
      "details": [
        {
          "class_name": "ShippingManager",
          "issue": "Generic/vague name",
          "confidence": 0.9
        }
      ]
    },
    {
      "category": "PARTIAL_MATCHES",
      "severity": "MEDIUM",
      "description": "Found 5 partial matches (not quite right)",
      "details": [
        {
          "actual": "PriceCalculator",
          "expected": "PriceCalculator",
          "similarity": 0.39999999999999997,
          "is_match": false
        },
        {
          "actual": "OrderNotificationService",
          "expected": "NotificationService",
          "similarity": 0.51,
          "is_match": true
        },
        {
          "actual": "OrderProcessor",
          "expected": "NotificationService",
          "similarity": 0.3933333333333333,
          "is_match": false
        },
        {
          "actual": "OrderPricingCalculator",
          "expected": "NotificationService",
          "similarity": 0.3,
          "is_match": false
        },
        {
          "actual": "ShippingManager",
          "expected": "ShippingCalculator",
          "similarity": 0.5214285714285714,
          "is_match": true
        }
      ]
    },
    {
      "category": "MISSED_HIGH_PRIORITY",
      "severity": "CRITICAL",
      "description": "Missed 2 high-priority extractions",
      "details": [
        "PriceCalculator",
        "OrderItemCollection"
      ]
    }
  ],
  "recommendations": [
    {
      "issue": "Missing expected extractions",
      "recommendation": "Improve clustering algorithm to better identify cohesive groups. Consider lowering resolution parameter or using different community detection algorithm.",
      "priority": "HIGH"
    },
    {
      "issue": "Too many incorrect suggestions",
      "recommendation": "Increase minimum cohesion threshold or improve LLM prompts to be more selective. Consider adding semantic analysis to filter out weak clusters.",
      "priority": "MEDIUM"
    },
    {
      "issue": "Generic class names",
      "recommendation": "Enhance LLM prompts with more domain-specific examples. Add post-processing to reject generic names. Use semantic analysis of method/field names to suggest better names.",
      "priority": "MEDIUM"
    },
    {
      "issue": "Missed critical high-priority extractions",
      "recommendation": "Review clustering parameters - may be over-filtering. Ensure graph fusion is not diluting strong structural signals. Consider increasing number of suggestions generated.",
      "priority": "CRITICAL"
    }
  ]
}
