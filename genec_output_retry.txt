2025-11-30 18:54:16,332 - GenEC - INFO - Initializing GenEC pipeline
2025-11-30 18:54:16,333 - GenEC.LLMInterface - INFO - AST-based chunking enabled for token optimization
2025-11-30 18:54:16,371 - GenEC - INFO - Using Eclipse JDT for code generation
2025-11-30 18:54:16,371 - GenEC - INFO - Structural transformation stage enabled (max_methods=40, max_fields=20)
2025-11-30 18:54:16,371 - GenEC - INFO - Refactoring application enabled [LIVE]
2025-11-30 18:54:16,372 - GenEC - INFO - ================================================================================
2025-11-30 18:54:16,372 - GenEC - INFO - Running GenEC pipeline on /Users/uditanshutomar/commons-lang-fresh/src/main/java/org/apache/commons/lang3/ArrayUtils.java
2025-11-30 18:54:16,372 - GenEC - INFO - ================================================================================
2025-11-30 18:54:16,388 - GenEC - INFO -
[Stage 1/6] Analyzing static dependencies...
Failed to parse /Users/uditanshutomar/commons-lang-fresh/src/main/java/org/apache/commons/lang3/ArrayUtils.java:
Primary parser failed for /Users/uditanshutomar/commons-lang-fresh/src/main/java/org/apache/commons/lang3/ArrayUtils.java; attempting tree-sitter fallback.
Failed to parse source content:
2025-11-30 18:54:16,839 - GenEC - INFO - Original metrics: {'lcom5': 0.9920212765957447, 'tcc': 0.06823184152604549, 'cbo': 17, 'num_methods': 377, 'num_fields': 25}
2025-11-30 18:54:16,839 - GenEC - INFO -
[Stage 2/6] Mining evolutionary coupling from Git history...
2025-11-30 18:54:16,880 - GenEC - INFO -
[Stage 3/6] Building and fusing dependency graphs...
2025-11-30 18:54:16,941 - GenEC - INFO - Graph metrics: {'num_nodes': 407, 'num_edges': 5245, 'density': 0.06348264968954624, 'num_components': 57, 'avg_clustering': 0.6032407768003689, 'avg_degree': 25.773955773955773}
2025-11-30 18:54:16,941 - GenEC - INFO -
[Stage 4/6] Detecting and ranking clusters...
2025-11-30 18:54:16,941 - GenEC.ClusterDetector - INFO - Detecting clusters using Louvain algorithm
2025-11-30 18:54:16,941 - GenEC.ClusterDetector - INFO - Running Louvain on graph with 407 nodes and 5245 edges
2025-11-30 18:54:16,991 - GenEC.ClusterDetector - INFO - Louvain partition completed
2025-11-30 18:54:16,995 - GenEC.ClusterDetector - INFO - Graph modularity: 0.6043
2025-11-30 18:54:16,997 - GenEC.ClusterDetector - INFO - Detected 61 clusters
2025-11-30 18:54:16,997 - GenEC.ClusterDetector - INFO - Filtering clusters by size and quality
2025-11-30 18:54:17,030 - GenEC.ClusterDetector - INFO - Filtered: 51 passed, 10 rejected
2025-11-30 18:54:17,030 - GenEC.ClusterDetector - INFO - Rejection breakdown:
2025-11-30 18:54:17,030 - GenEC.ClusterDetector - INFO -   - too_large: 5 clusters
2025-11-30 18:54:17,030 - GenEC.ClusterDetector - INFO -   - no_methods: 5 clusters
2025-11-30 18:54:17,031 - GenEC.ClusterDetector - INFO - Ranking clusters by quality
2025-11-30 18:54:17,031 - GenEC - INFO - Clusters: 61 detected, 51 filtered, 51 ranked
2025-11-30 18:54:17,031 - GenEC - INFO -
[Stage 5/6] Generating refactoring suggestions...
2025-11-30 18:54:17,031 - GenEC.LLMInterface - INFO - Generating refactoring suggestion for cluster 5
2025-11-30 18:54:17,031 - genec.core.cluster_context_builder - INFO - Cluster 5: Generated context with ~219 tokens (1 methods, 0 fields)
2025-11-30 18:54:17,329 - GenEC.LLMInterface - ERROR - Error calling LLM: LLMRequestFailed: Anthropic request failed after 1 attempts. Last error: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CVfDGc7zbNwiy1Aw89b1x'}
2025-11-30 18:54:17,329 - GenEC.LLMInterface - ERROR - LLM call failed (attempt 1): LLM call failed: Anthropic request failed after 1 attempts. Last error: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CVfDGc7zbNwiy1Aw89b1x'}
2025-11-30 18:54:17,329 - GenEC.LLMInterface - INFO - Retrying in 1 seconds...
2025-11-30 18:54:18,468 - GenEC.LLMInterface - ERROR - Error calling LLM: LLMRequestFailed: Anthropic request failed after 1 attempts. Last error: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CVfDGhEaCSugJT1Nmfbek'}
2025-11-30 18:54:18,468 - GenEC.LLMInterface - ERROR - LLM call failed (attempt 2): LLM call failed: Anthropic request failed after 1 attempts. Last error: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CVfDGhEaCSugJT1Nmfbek'}
2025-11-30 18:54:18,468 - GenEC.LLMInterface - INFO - Retrying in 2 seconds...
2025-11-30 18:54:20,629 - GenEC.LLMInterface - ERROR - Error calling LLM: LLMRequestFailed: Anthropic request failed after 1 attempts. Last error: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CVfDGrM1P4qnRCvy4mTx7'}
2025-11-30 18:54:20,629 - GenEC.LLMInterface - ERROR - LLM call failed (attempt 3): LLM call failed: Anthropic request failed after 1 attempts. Last error: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CVfDGrM1P4qnRCvy4mTx7'}
2025-11-30 18:54:20,629 - GenEC - ERROR - Failed to generate suggestion for cluster 5: LLM call failed: Anthropic request failed after 1 attempts. Last error: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CVfDGrM1P4qnRCvy4mTx7'}
2025-11-30 18:54:20,629 - GenEC - INFO - Generated 0 suggestions
2025-11-30 18:54:20,629 - GenEC - WARNING - No suggestions from ranked clusters; attempting field-based fallback.
2025-11-30 18:54:20,658 - GenEC.LLMInterface - INFO - Generating refactoring suggestion for cluster 0
2025-11-30 18:54:20,658 - genec.core.cluster_context_builder - INFO - Cluster 0: Generated context with ~503 tokens (3 methods, 1 fields)
2025-11-30 18:54:20,798 - GenEC.LLMInterface - ERROR - Error calling LLM: LLMRequestFailed: Anthropic request failed after 1 attempts. Last error: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CVfDGs8tFJz4NmB4bvNHu'}
2025-11-30 18:54:20,798 - GenEC.LLMInterface - ERROR - LLM call failed (attempt 1): LLM call failed: Anthropic request failed after 1 attempts. Last error: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CVfDGs8tFJz4NmB4bvNHu'}
2025-11-30 18:54:20,798 - GenEC.LLMInterface - INFO - Retrying in 1 seconds...
2025-11-30 18:54:21,948 - GenEC.LLMInterface - ERROR - Error calling LLM: LLMRequestFailed: Anthropic request failed after 1 attempts. Last error: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CVfDGx72g2njFQnYLMk9D'}
2025-11-30 18:54:21,948 - GenEC.LLMInterface - ERROR - LLM call failed (attempt 2): LLM call failed: Anthropic request failed after 1 attempts. Last error: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CVfDGx72g2njFQnYLMk9D'}
2025-11-30 18:54:21,948 - GenEC.LLMInterface - INFO - Retrying in 2 seconds...
2025-11-30 18:54:24,091 - GenEC.LLMInterface - ERROR - Error calling LLM: LLMRequestFailed: Anthropic request failed after 1 attempts. Last error: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CVfDH7GwEtBeubhzf4ixU'}
2025-11-30 18:54:24,091 - GenEC.LLMInterface - ERROR - LLM call failed (attempt 3): LLM call failed: Anthropic request failed after 1 attempts. Last error: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CVfDH7GwEtBeubhzf4ixU'}
2025-11-30 18:54:24,091 - GenEC - ERROR - Failed to generate fallback suggestion: LLM call failed: Anthropic request failed after 1 attempts. Last error: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CVfDH7GwEtBeubhzf4ixU'}
2025-11-30 18:54:24,091 - GenEC - WARNING - No suggestions to verify; skipping verification stage.
2025-11-30 18:54:24,091 - GenEC - INFO -
================================================================================
2025-11-30 18:54:24,091 - GenEC - INFO - PIPELINE SUMMARY
2025-11-30 18:54:24,091 - GenEC - INFO - ================================================================================
2025-11-30 18:54:24,091 - GenEC - INFO - Class: ArrayUtils
2025-11-30 18:54:24,091 - GenEC - INFO - Clusters detected: 61
2025-11-30 18:54:24,091 - GenEC - INFO - Suggestions generated: 0
2025-11-30 18:54:24,092 - GenEC - INFO - Verified suggestions: 0
2025-11-30 18:54:24,092 - GenEC - INFO - Execution time: 7.72 seconds
2025-11-30 18:54:24,092 - GenEC - INFO - ================================================================================

==================================================
Refactoring Completed Successfully
==================================================
Original Metrics: {'lcom5': 0.9920212765957447, 'tcc': 0.06823184152604549, 'cbo': 17, 'num_methods': 377, 'num_fields': 25}
Suggestions Generated: 0
Verified Suggestions: 0
